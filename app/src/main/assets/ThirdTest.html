<script type="text/javascript">
function SelectText(element, calledFromAndroid) {
    var doc = document
        , text = doc.getElementById(element)
        , range, selection
    ;    
    if (doc.body.createTextRange) {
        range = document.body.createTextRange();
        range.moveToElementText(text);
        range.select();
    } else if (window.getSelection) {
        selection = window.getSelection();        
        range = document.createRange();
        if(text != null) { //null if not clicked on an element with an id
            range.selectNodeContents(text);
            selection.removeAllRanges();
            selection.addRange(range);
        }
    }

    if(calledFromAndroid == 1) {
        var text = getSelectedText();
        Android.showCAB(element, text)
    }
}

//http://stackoverflow.com/questions/5379120/get-the-highlighted-selected-text
function getSelectedText() {
    var text = "";
    if (window.getSelection) {
        text = window.getSelection().toString();
    } else if (document.selection && document.selection.type != "Control") {
        text = document.selection.createRange().text;
    }
    return text;
}

document.onclick = function(e) {    
    var id = e.target.id, text, success;
    SelectText(id, 0);
    text = getSelectedText();
    Android.showCAB(id, text);
};
</script>


<p id="one">
Hungary has declared a state of emergency in two southern counties as tough new laws to stop migrants entering illegally came into force.
</p>

<br/>

<p id="two">
Police can now detain anyone trying to breach a razor-wire fence built on the border with Serbia.
</p>

<br/>

<p id="three">
The EU is facing a huge influx of migrants, many fleeing conflict and poverty in countries including Syria.
</p>

<br/>

<p id="four">
A boat carrying migrants from Turkey to Greece sank on Tuesday, leaving 22 people dead, Turkish media reported.
</p>

<br/>

<p id="five">
Starting on Tuesday, the EU has agreed to relocate 40,000 migrants from Greece and Italy to other EU states. But it has yet to agree on mandatory quotas for a further 120,000 asylum seekers.
</p>

<br/>

<p id="six">
The new Hungarian laws came into effect at midnight (22:00 GMT Monday).
</p>

<br/>

<p id="seven">
Police sealed a railway crossing point that had been used by tens of thousands of migrants, and many slept out in the open on the Serbian side of the border.
</p>

<br/>

<p id="eight">
Around midday there were tense scenes as hundreds streamed towards the fence, some searching for a way through and others starting a sit-down strike, throwing down food and water in protest at not being granted passage.
</p>

<br/>

<p id="nine">
The state of emergency gives police more powers, and allows for the deployment of troops, pending parliamentary approval.
</p>

<br/>

<p id="ten">
Police buses will now take asylum applicants to registration centres, but if their applications are refused they will now be returned to Serbia rather than being given passage through Hungary, the BBC's Nick Thorpe reports from the border. 
</p>

<br/>